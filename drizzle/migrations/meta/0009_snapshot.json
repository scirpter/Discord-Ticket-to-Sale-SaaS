{
  "version": "5",
  "dialect": "mysql",
  "id": "3b75d491-4df1-4e96-a529-2ff0b3377540",
  "prevId": "f8d83036-8e96-4c7d-9056-35ac3a275511",
  "tables": {
    "app_secrets": {
      "name": "app_secrets",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "secret_key": {
          "name": "secret_key",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "value_encrypted": {
          "name": "value_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "rotated_at": {
          "name": "rotated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "app_secrets_secret_key_uq": {
          "name": "app_secrets_secret_key_uq",
          "columns": [
            "secret_key"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "app_secrets_id": {
          "name": "app_secrets_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "audit_logs": {
      "name": "audit_logs",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "actor_discord_user_id": {
          "name": "actor_discord_user_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "action": {
          "name": "action",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "resource_type": {
          "name": "resource_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "resource_id": {
          "name": "resource_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "correlation_id": {
          "name": "correlation_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "('{}')"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "audit_logs_tenant_created_idx": {
          "name": "audit_logs_tenant_created_idx",
          "columns": [
            "tenant_id",
            "created_at"
          ],
          "isUnique": false
        },
        "audit_logs_action_idx": {
          "name": "audit_logs_action_idx",
          "columns": [
            "action"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "audit_logs_id": {
          "name": "audit_logs_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "customer_first_paid_orders": {
      "name": "customer_first_paid_orders",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "guild_id": {
          "name": "guild_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "referred_email_normalized": {
          "name": "referred_email_normalized",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "first_order_session_id": {
          "name": "first_order_session_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "first_paid_at": {
          "name": "first_paid_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "claim_id": {
          "name": "claim_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "reward_applied": {
          "name": "reward_applied",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "reward_points": {
          "name": "reward_points",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "referral_reward_minor_snapshot": {
          "name": "referral_reward_minor_snapshot",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "point_value_minor_snapshot": {
          "name": "point_value_minor_snapshot",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "first_paid_orders_tenant_guild_referred_email_uq": {
          "name": "first_paid_orders_tenant_guild_referred_email_uq",
          "columns": [
            "tenant_id",
            "guild_id",
            "referred_email_normalized"
          ],
          "isUnique": true
        },
        "first_paid_orders_tenant_guild_idx": {
          "name": "first_paid_orders_tenant_guild_idx",
          "columns": [
            "tenant_id",
            "guild_id"
          ],
          "isUnique": false
        },
        "first_paid_orders_tenant_created_idx": {
          "name": "first_paid_orders_tenant_created_idx",
          "columns": [
            "tenant_id",
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "customer_first_paid_orders_id": {
          "name": "customer_first_paid_orders_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "customer_points_accounts": {
      "name": "customer_points_accounts",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "guild_id": {
          "name": "guild_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "email_normalized": {
          "name": "email_normalized",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "email_display": {
          "name": "email_display",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "balance_points": {
          "name": "balance_points",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "reserved_points": {
          "name": "reserved_points",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "customer_points_accounts_tenant_guild_email_uq": {
          "name": "customer_points_accounts_tenant_guild_email_uq",
          "columns": [
            "tenant_id",
            "guild_id",
            "email_normalized"
          ],
          "isUnique": true
        },
        "customer_points_accounts_tenant_guild_idx": {
          "name": "customer_points_accounts_tenant_guild_idx",
          "columns": [
            "tenant_id",
            "guild_id"
          ],
          "isUnique": false
        },
        "customer_points_accounts_tenant_created_idx": {
          "name": "customer_points_accounts_tenant_created_idx",
          "columns": [
            "tenant_id",
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "customer_points_accounts_id": {
          "name": "customer_points_accounts_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "customer_points_ledger": {
      "name": "customer_points_ledger",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "guild_id": {
          "name": "guild_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "email_normalized": {
          "name": "email_normalized",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "delta_points": {
          "name": "delta_points",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(48)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "order_session_id": {
          "name": "order_session_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "actor_user_id": {
          "name": "actor_user_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "('{}')"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "customer_points_ledger_tenant_guild_idx": {
          "name": "customer_points_ledger_tenant_guild_idx",
          "columns": [
            "tenant_id",
            "guild_id"
          ],
          "isUnique": false
        },
        "customer_points_ledger_order_session_idx": {
          "name": "customer_points_ledger_order_session_idx",
          "columns": [
            "order_session_id"
          ],
          "isUnique": false
        },
        "customer_points_ledger_tenant_created_idx": {
          "name": "customer_points_ledger_tenant_created_idx",
          "columns": [
            "tenant_id",
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "customer_points_ledger_id": {
          "name": "customer_points_ledger_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "discount_coupons": {
      "name": "discount_coupons",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "guild_id": {
          "name": "guild_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "code": {
          "name": "code",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "discount_minor": {
          "name": "discount_minor",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "active": {
          "name": "active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": true
        },
        "allowed_product_ids": {
          "name": "allowed_product_ids",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "('[]')"
        },
        "allowed_variant_ids": {
          "name": "allowed_variant_ids",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "('[]')"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "discount_coupons_tenant_guild_code_uq": {
          "name": "discount_coupons_tenant_guild_code_uq",
          "columns": [
            "tenant_id",
            "guild_id",
            "code"
          ],
          "isUnique": true
        },
        "discount_coupons_tenant_guild_idx": {
          "name": "discount_coupons_tenant_guild_idx",
          "columns": [
            "tenant_id",
            "guild_id"
          ],
          "isUnique": false
        },
        "discount_coupons_tenant_created_idx": {
          "name": "discount_coupons_tenant_created_idx",
          "columns": [
            "tenant_id",
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "discount_coupons_id": {
          "name": "discount_coupons_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "guild_configs": {
      "name": "guild_configs",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "guild_id": {
          "name": "guild_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "paid_log_channel_id": {
          "name": "paid_log_channel_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "staff_role_ids": {
          "name": "staff_role_ids",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "('[]')"
        },
        "default_currency": {
          "name": "default_currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'USD'"
        },
        "tip_enabled": {
          "name": "tip_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "points_earn_category_keys": {
          "name": "points_earn_category_keys",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "('[]')"
        },
        "points_redeem_category_keys": {
          "name": "points_redeem_category_keys",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "('[]')"
        },
        "point_value_minor": {
          "name": "point_value_minor",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "referral_reward_minor": {
          "name": "referral_reward_minor",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "referral_reward_category_keys": {
          "name": "referral_reward_category_keys",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "('[]')"
        },
        "referral_log_channel_id": {
          "name": "referral_log_channel_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "referral_thank_you_template": {
          "name": "referral_thank_you_template",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "('Thanks for your referral. You earned {points} point(s) ({amount_gbp} GBP) after {referred_email} paid.')"
        },
        "referral_submission_template": {
          "name": "referral_submission_template",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "('Referral submitted successfully. We will reward points automatically after the first paid order.')"
        },
        "ticket_metadata_key": {
          "name": "ticket_metadata_key",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'isTicket'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "guild_configs_tenant_guild_uq": {
          "name": "guild_configs_tenant_guild_uq",
          "columns": [
            "tenant_id",
            "guild_id"
          ],
          "isUnique": true
        },
        "guild_configs_tenant_guild_idx": {
          "name": "guild_configs_tenant_guild_idx",
          "columns": [
            "tenant_id",
            "guild_id"
          ],
          "isUnique": false
        },
        "guild_configs_tenant_created_idx": {
          "name": "guild_configs_tenant_created_idx",
          "columns": [
            "tenant_id",
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "guild_configs_id": {
          "name": "guild_configs_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "order_notes_cache": {
      "name": "order_notes_cache",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "guild_id": {
          "name": "guild_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "order_session_id": {
          "name": "order_session_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "woo_order_id": {
          "name": "woo_order_id",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "latest_internal_note": {
          "name": "latest_internal_note",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "latest_customer_note": {
          "name": "latest_customer_note",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "fetched_at": {
          "name": "fetched_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "order_notes_cache_order_session_uq": {
          "name": "order_notes_cache_order_session_uq",
          "columns": [
            "order_session_id"
          ],
          "isUnique": true
        },
        "order_notes_cache_tenant_guild_idx": {
          "name": "order_notes_cache_tenant_guild_idx",
          "columns": [
            "tenant_id",
            "guild_id"
          ],
          "isUnique": false
        },
        "order_notes_cache_tenant_fetched_idx": {
          "name": "order_notes_cache_tenant_fetched_idx",
          "columns": [
            "tenant_id",
            "fetched_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "order_notes_cache_id": {
          "name": "order_notes_cache_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "order_sessions": {
      "name": "order_sessions",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "guild_id": {
          "name": "guild_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "ticket_channel_id": {
          "name": "ticket_channel_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "staff_user_id": {
          "name": "staff_user_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "customer_discord_id": {
          "name": "customer_discord_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "product_id": {
          "name": "product_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "variant_id": {
          "name": "variant_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('pending_payment','cancelled','paid')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'pending_payment'"
        },
        "basket_items": {
          "name": "basket_items",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "('[]')"
        },
        "coupon_code": {
          "name": "coupon_code",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "coupon_discount_minor": {
          "name": "coupon_discount_minor",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "customer_email_normalized": {
          "name": "customer_email_normalized",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "points_reserved": {
          "name": "points_reserved",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "points_discount_minor": {
          "name": "points_discount_minor",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "points_reservation_state": {
          "name": "points_reservation_state",
          "type": "enum('none','reserved','released_expired','released_cancelled','consumed')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'none'"
        },
        "points_config_snapshot": {
          "name": "points_config_snapshot",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "('{\"pointValueMinor\":1,\"earnCategoryKeys\":[],\"redeemCategoryKeys\":[]}')"
        },
        "referral_reward_minor_snapshot": {
          "name": "referral_reward_minor_snapshot",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "tip_minor": {
          "name": "tip_minor",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "subtotal_minor": {
          "name": "subtotal_minor",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "total_minor": {
          "name": "total_minor",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "answers": {
          "name": "answers",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "('{}')"
        },
        "checkout_url": {
          "name": "checkout_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "checkout_token_expires_at": {
          "name": "checkout_token_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "order_sessions_tenant_guild_idx": {
          "name": "order_sessions_tenant_guild_idx",
          "columns": [
            "tenant_id",
            "guild_id"
          ],
          "isUnique": false
        },
        "order_sessions_ticket_channel_idx": {
          "name": "order_sessions_ticket_channel_idx",
          "columns": [
            "ticket_channel_id"
          ],
          "isUnique": false
        },
        "order_sessions_tenant_created_idx": {
          "name": "order_sessions_tenant_created_idx",
          "columns": [
            "tenant_id",
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "order_sessions_id": {
          "name": "order_sessions_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "orders_paid": {
      "name": "orders_paid",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "guild_id": {
          "name": "guild_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "order_session_id": {
          "name": "order_session_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "woo_order_id": {
          "name": "woo_order_id",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "price_minor": {
          "name": "price_minor",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "payment_reference": {
          "name": "payment_reference",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "paid_at": {
          "name": "paid_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "orders_paid_order_session_uq": {
          "name": "orders_paid_order_session_uq",
          "columns": [
            "order_session_id"
          ],
          "isUnique": true
        },
        "orders_paid_tenant_guild_idx": {
          "name": "orders_paid_tenant_guild_idx",
          "columns": [
            "tenant_id",
            "guild_id"
          ],
          "isUnique": false
        },
        "orders_paid_tenant_created_idx": {
          "name": "orders_paid_tenant_created_idx",
          "columns": [
            "tenant_id",
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "orders_paid_id": {
          "name": "orders_paid_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "product_form_fields": {
      "name": "product_form_fields",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "guild_id": {
          "name": "guild_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "product_id": {
          "name": "product_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "field_key": {
          "name": "field_key",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "label": {
          "name": "label",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "field_type": {
          "name": "field_type",
          "type": "enum('short_text','long_text','email','number')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "required": {
          "name": "required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": true
        },
        "sensitive": {
          "name": "sensitive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "validation": {
          "name": "validation",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "product_form_fields_product_field_uq": {
          "name": "product_form_fields_product_field_uq",
          "columns": [
            "product_id",
            "field_key"
          ],
          "isUnique": true
        },
        "product_form_fields_tenant_guild_idx": {
          "name": "product_form_fields_tenant_guild_idx",
          "columns": [
            "tenant_id",
            "guild_id"
          ],
          "isUnique": false
        },
        "product_form_fields_product_sort_idx": {
          "name": "product_form_fields_product_sort_idx",
          "columns": [
            "product_id",
            "sort_order"
          ],
          "isUnique": false
        },
        "product_form_fields_tenant_created_idx": {
          "name": "product_form_fields_tenant_created_idx",
          "columns": [
            "tenant_id",
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "product_form_fields_id": {
          "name": "product_form_fields_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "product_variants": {
      "name": "product_variants",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "guild_id": {
          "name": "guild_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "product_id": {
          "name": "product_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "label": {
          "name": "label",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "price_minor": {
          "name": "price_minor",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "referral_reward_minor": {
          "name": "referral_reward_minor",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "woo_product_id": {
          "name": "woo_product_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "woo_checkout_path": {
          "name": "woo_checkout_path",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "product_variants_tenant_guild_idx": {
          "name": "product_variants_tenant_guild_idx",
          "columns": [
            "tenant_id",
            "guild_id"
          ],
          "isUnique": false
        },
        "product_variants_product_idx": {
          "name": "product_variants_product_idx",
          "columns": [
            "product_id"
          ],
          "isUnique": false
        },
        "product_variants_tenant_created_idx": {
          "name": "product_variants_tenant_created_idx",
          "columns": [
            "tenant_id",
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "product_variants_id": {
          "name": "product_variants_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "products": {
      "name": "products",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "guild_id": {
          "name": "guild_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "category": {
          "name": "category",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "active": {
          "name": "active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "products_tenant_guild_idx": {
          "name": "products_tenant_guild_idx",
          "columns": [
            "tenant_id",
            "guild_id"
          ],
          "isUnique": false
        },
        "products_tenant_created_idx": {
          "name": "products_tenant_created_idx",
          "columns": [
            "tenant_id",
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "products_id": {
          "name": "products_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "referral_claims": {
      "name": "referral_claims",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "guild_id": {
          "name": "guild_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "referrer_discord_user_id": {
          "name": "referrer_discord_user_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "referrer_email_normalized": {
          "name": "referrer_email_normalized",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "referrer_email_display": {
          "name": "referrer_email_display",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "referred_email_normalized": {
          "name": "referred_email_normalized",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "referred_email_display": {
          "name": "referred_email_display",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('active','rewarded')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'active'"
        },
        "reward_order_session_id": {
          "name": "reward_order_session_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "reward_points": {
          "name": "reward_points",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "rewarded_at": {
          "name": "rewarded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "referral_claims_tenant_guild_referred_email_uq": {
          "name": "referral_claims_tenant_guild_referred_email_uq",
          "columns": [
            "tenant_id",
            "guild_id",
            "referred_email_normalized"
          ],
          "isUnique": true
        },
        "referral_claims_tenant_guild_idx": {
          "name": "referral_claims_tenant_guild_idx",
          "columns": [
            "tenant_id",
            "guild_id"
          ],
          "isUnique": false
        },
        "referral_claims_tenant_created_idx": {
          "name": "referral_claims_tenant_created_idx",
          "columns": [
            "tenant_id",
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "referral_claims_id": {
          "name": "referral_claims_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "super_admins": {
      "name": "super_admins",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "discord_user_id": {
          "name": "discord_user_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "super_admins_discord_user_id_uq": {
          "name": "super_admins_discord_user_id_uq",
          "columns": [
            "discord_user_id"
          ],
          "isUnique": true
        },
        "super_admins_user_id_uq": {
          "name": "super_admins_user_id_uq",
          "columns": [
            "user_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "super_admins_id": {
          "name": "super_admins_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "tenant_guilds": {
      "name": "tenant_guilds",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "guild_id": {
          "name": "guild_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "guild_name": {
          "name": "guild_name",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "tenant_guilds_tenant_guild_uq": {
          "name": "tenant_guilds_tenant_guild_uq",
          "columns": [
            "tenant_id",
            "guild_id"
          ],
          "isUnique": true
        },
        "tenant_guilds_tenant_guild_idx": {
          "name": "tenant_guilds_tenant_guild_idx",
          "columns": [
            "tenant_id",
            "guild_id"
          ],
          "isUnique": false
        },
        "tenant_guilds_tenant_created_idx": {
          "name": "tenant_guilds_tenant_created_idx",
          "columns": [
            "tenant_id",
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "tenant_guilds_id": {
          "name": "tenant_guilds_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "tenant_integrations_voodoo_pay": {
      "name": "tenant_integrations_voodoo_pay",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "guild_id": {
          "name": "guild_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "merchant_wallet_address": {
          "name": "merchant_wallet_address",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "checkout_domain": {
          "name": "checkout_domain",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'checkout.voodoo-pay.uk'"
        },
        "tenant_webhook_key": {
          "name": "tenant_webhook_key",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "callback_secret_encrypted": {
          "name": "callback_secret_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "tenant_integrations_voodoo_pay_tenant_guild_uq": {
          "name": "tenant_integrations_voodoo_pay_tenant_guild_uq",
          "columns": [
            "tenant_id",
            "guild_id"
          ],
          "isUnique": true
        },
        "tenant_integrations_voodoo_pay_webhook_key_uq": {
          "name": "tenant_integrations_voodoo_pay_webhook_key_uq",
          "columns": [
            "tenant_webhook_key"
          ],
          "isUnique": true
        },
        "tenant_integrations_voodoo_pay_tenant_guild_idx": {
          "name": "tenant_integrations_voodoo_pay_tenant_guild_idx",
          "columns": [
            "tenant_id",
            "guild_id"
          ],
          "isUnique": false
        },
        "tenant_integrations_voodoo_pay_tenant_created_idx": {
          "name": "tenant_integrations_voodoo_pay_tenant_created_idx",
          "columns": [
            "tenant_id",
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "tenant_integrations_voodoo_pay_id": {
          "name": "tenant_integrations_voodoo_pay_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "tenant_integrations_woo": {
      "name": "tenant_integrations_woo",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "guild_id": {
          "name": "guild_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "wp_base_url": {
          "name": "wp_base_url",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenant_webhook_key": {
          "name": "tenant_webhook_key",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "webhook_secret_encrypted": {
          "name": "webhook_secret_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "consumer_key_encrypted": {
          "name": "consumer_key_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "consumer_secret_encrypted": {
          "name": "consumer_secret_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "tenant_integrations_woo_tenant_guild_uq": {
          "name": "tenant_integrations_woo_tenant_guild_uq",
          "columns": [
            "tenant_id",
            "guild_id"
          ],
          "isUnique": true
        },
        "tenant_integrations_woo_webhook_key_uq": {
          "name": "tenant_integrations_woo_webhook_key_uq",
          "columns": [
            "tenant_webhook_key"
          ],
          "isUnique": true
        },
        "tenant_integrations_woo_tenant_guild_idx": {
          "name": "tenant_integrations_woo_tenant_guild_idx",
          "columns": [
            "tenant_id",
            "guild_id"
          ],
          "isUnique": false
        },
        "tenant_integrations_woo_tenant_created_idx": {
          "name": "tenant_integrations_woo_tenant_created_idx",
          "columns": [
            "tenant_id",
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "tenant_integrations_woo_id": {
          "name": "tenant_integrations_woo_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "tenant_members": {
      "name": "tenant_members",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "role": {
          "name": "role",
          "type": "enum('owner','admin','member')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "tenant_members_tenant_user_uq": {
          "name": "tenant_members_tenant_user_uq",
          "columns": [
            "tenant_id",
            "user_id"
          ],
          "isUnique": true
        },
        "tenant_members_tenant_idx": {
          "name": "tenant_members_tenant_idx",
          "columns": [
            "tenant_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "tenant_members_id": {
          "name": "tenant_members_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "tenants": {
      "name": "tenants",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('active','disabled')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'active'"
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "tenants_status_idx": {
          "name": "tenants_status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "tenants_created_at_idx": {
          "name": "tenants_created_at_idx",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "tenants_id": {
          "name": "tenants_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "ticket_channel_metadata": {
      "name": "ticket_channel_metadata",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "guild_id": {
          "name": "guild_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "channel_id": {
          "name": "channel_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "is_ticket": {
          "name": "is_ticket",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "ticket_channel_metadata_tenant_channel_uq": {
          "name": "ticket_channel_metadata_tenant_channel_uq",
          "columns": [
            "tenant_id",
            "guild_id",
            "channel_id"
          ],
          "isUnique": true
        },
        "ticket_channel_metadata_tenant_guild_idx": {
          "name": "ticket_channel_metadata_tenant_guild_idx",
          "columns": [
            "tenant_id",
            "guild_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "ticket_channel_metadata_id": {
          "name": "ticket_channel_metadata_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "users": {
      "name": "users",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "discord_user_id": {
          "name": "discord_user_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "username": {
          "name": "username",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "users_discord_user_id_uq": {
          "name": "users_discord_user_id_uq",
          "columns": [
            "discord_user_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "users_id": {
          "name": "users_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "webhook_events": {
      "name": "webhook_events",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar(26)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "guild_id": {
          "name": "guild_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "provider": {
          "name": "provider",
          "type": "enum('woocommerce','voodoopay')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'woocommerce'"
        },
        "provider_delivery_id": {
          "name": "provider_delivery_id",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "topic": {
          "name": "topic",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "signature_valid": {
          "name": "signature_valid",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "payload": {
          "name": "payload",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('received','processed','failed','duplicate')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'received'"
        },
        "attempt_count": {
          "name": "attempt_count",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "failure_reason": {
          "name": "failure_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "next_retry_at": {
          "name": "next_retry_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "webhook_events_tenant_delivery_uq": {
          "name": "webhook_events_tenant_delivery_uq",
          "columns": [
            "tenant_id",
            "provider_delivery_id"
          ],
          "isUnique": true
        },
        "webhook_events_tenant_guild_idx": {
          "name": "webhook_events_tenant_guild_idx",
          "columns": [
            "tenant_id",
            "guild_id"
          ],
          "isUnique": false
        },
        "webhook_events_tenant_created_idx": {
          "name": "webhook_events_tenant_created_idx",
          "columns": [
            "tenant_id",
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "webhook_events_id": {
          "name": "webhook_events_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    }
  },
  "views": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "tables": {},
    "indexes": {}
  }
}